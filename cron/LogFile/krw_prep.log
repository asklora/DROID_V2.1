using prod db
droid-v2-production-cluster.cluster-cy4dofwtnffp.ap-east-1.rds.amazonaws.com
2022-04-12 20:31:05 pc2 root[1812212] WARNING celery role using -> slave
2022-04-12 20:31:08 pc2 root[1812212] INFO AsyncORM: patching models
2022-04-12 : === ['KRW'] DATA PREPERATION STARTED ===
The start date is set as: 2021-04-30
The end date is set as: 2022-04-12
2021-04-30 is finished.
2021-05-03 is finished.
2021-05-04 is finished.
2021-05-06 is finished.
2021-05-07 is finished.
2021-05-10 is finished.
2021-05-11 is finished.
2021-05-12 is finished.
2021-05-13 is finished.
2021-05-14 is finished.
2021-05-17 is finished.
2021-05-18 is finished.
2021-05-20 is finished.
2021-05-21 is finished.
2021-05-24 is finished.
2021-05-25 is finished.
2021-05-26 is finished.
2021-05-27 is finished.
2021-05-28 is finished.
2021-05-31 is finished.
2021-06-01 is finished.
2021-06-02 is finished.
2021-06-03 is finished.
2021-06-04 is finished.
2021-06-07 is finished.
2021-06-08 is finished.
2021-06-09 is finished.
2021-06-10 is finished.
2021-06-11 is finished.
2021-06-14 is finished.
2021-06-15 is finished.
2021-06-16 is finished.
2021-06-17 is finished.
2021-06-18 is finished.
2021-06-21 is finished.
2021-06-22 is finished.
2021-06-23 is finished.
2021-06-24 is finished.
2021-06-25 is finished.
2021-06-28 is finished.
2021-06-29 is finished.
2021-06-30 is finished.
2021-07-01 is finished.
2021-07-02 is finished.
2021-07-05 is finished.
2021-07-06 is finished.
2021-07-07 is finished.
2021-07-08 is finished.
2021-07-09 is finished.
2021-07-12 is finished.
2021-07-13 is finished.
2021-07-14 is finished.
2021-07-15 is finished.
2021-07-16 is finished.
2021-07-19 is finished.
2021-07-20 is finished.
2021-07-21 is finished.
2021-07-22 is finished.
2021-07-23 is finished.
2021-07-26 is finished.
2021-07-27 is finished.
2021-07-28 is finished.
2021-07-29 is finished.
2021-07-30 is finished.
2021-08-02 is finished.
2021-08-03 is finished.
2021-08-04 is finished.
2021-08-05 is finished.
2021-08-06 is finished.
2021-08-09 is finished.
2021-08-10 is finished.
2021-08-11 is finished.
2021-08-12 is finished.
2021-08-13 is finished.
2021-08-17 is finished.
2021-08-18 is finished.
2021-08-19 is finished.
2021-08-20 is finished.
2021-08-23 is finished.
2021-08-24 is finished.
2021-08-25 is finished.
2021-08-26 is finished.
2021-08-27 is finished.
2021-08-30 is finished.
2021-08-31 is finished.
2021-09-01 is finished.
2021-09-02 is finished.
2021-09-03 is finished.
2021-09-06 is finished.
2021-09-07 is finished.
2021-09-08 is finished.
2021-09-09 is finished.
2021-09-10 is finished.
2021-09-13 is finished.
2021-09-14 is finished.
2021-09-15 is finished.
2021-09-16 is finished.
2021-09-17 is finished.
2021-09-23 is finished.
2021-09-24 is finished.
2021-09-27 is finished.
2021-09-28 is finished.
2021-09-29 is finished.
2021-09-30 is finished.
2021-10-01 is finished.
2021-10-05 is finished.
2021-10-06 is finished.
2021-10-07 is finished.
2021-10-08 is finished.
2021-10-12 is finished.
2021-10-13 is finished.
2021-10-14 is finished.
2021-10-15 is finished.
2021-10-18 is finished.
2021-10-19 is finished.
2021-10-20 is finished.
2021-10-21 is finished.
2021-10-22 is finished.
2021-10-25 is finished.
2021-10-26 is finished.
2021-10-27 is finished.
2021-10-28 is finished.
2021-10-29 is finished.
2021-11-01 is finished.
2021-11-02 is finished.
2021-11-03 is finished.
2021-11-04 is finished.
2021-11-05 is finished.
2021-11-08 is finished.
2021-11-09 is finished.
2021-11-10 is finished.
2021-11-11 is finished.
2021-11-12 is finished.
2021-11-15 is finished.
2021-11-16 is finished.
2021-11-17 is finished.
2021-11-18 is finished.
2021-11-19 is finished.
2021-11-22 is finished.
2021-11-23 is finished.
2021-11-24 is finished.
2021-11-25 is finished.
2021-11-26 is finished.
2021-11-29 is finished.
2021-11-30 is finished.
2021-12-01 is finished.
2021-12-02 is finished.
2021-12-03 is finished.
2021-12-06 is finished.
2021-12-07 is finished.
2021-12-08 is finished.
2021-12-09 is finished.
2021-12-10 is finished.
2021-12-13 is finished.
2021-12-14 is finished.
2021-12-15 is finished.
2021-12-16 is finished.
2021-12-17 is finished.
2021-12-20 is finished.
2021-12-21 is finished.
2021-12-22 is finished.
2021-12-23 is finished.
2021-12-24 is finished.
2021-12-27 is finished.
2021-12-28 is finished.
2021-12-29 is finished.
2021-12-30 is finished.
2022-01-03 is finished.
2022-01-04 is finished.
2022-01-05 is finished.
2022-01-06 is finished.
2022-01-07 is finished.
2022-01-10 is finished.
2022-01-11 is finished.
2022-01-12 is finished.
2022-01-13 is finished.
2022-01-14 is finished.
2022-01-17 is finished.
2022-01-18 is finished.
2022-01-19 is finished.
2022-01-20 is finished.
2022-01-21 is finished.
2022-01-24 is finished.
2022-01-25 is finished.
2022-01-26 is finished.
2022-01-27 is finished.
2022-01-28 is finished.
2022-02-03 is finished.
2022-02-04 is finished.
2022-02-07 is finished.
2022-02-08 is finished.
2022-02-09 is finished.
2022-02-10 is finished.
2022-02-11 is finished.
2022-02-14 is finished.
2022-02-15 is finished.
2022-02-16 is finished.
2022-02-17 is finished.
2022-02-18 is finished.
2022-02-21 is finished.
2022-02-22 is finished.
2022-02-23 is finished.
2022-02-24 is finished.
2022-02-25 is finished.
2022-02-28 is finished.
2022-03-02 is finished.
2022-03-03 is finished.
2022-03-04 is finished.
2022-03-07 is finished.
2022-03-08 is finished.
2022-03-09 is finished.
2022-03-10 is finished.
2022-03-11 is finished.
2022-03-14 is finished.
2022-03-15 is finished.
2022-03-16 is finished.
2022-03-17 is finished.
2022-03-18 is finished.
2022-03-21 is finished.
2022-03-22 is finished.
2022-03-23 is finished.
2022-03-24 is finished.
2022-03-25 is finished.
2022-03-28 is finished.
2022-03-29 is finished.
2022-03-30 is finished.
2022-03-31 is finished.
2022-04-01 is finished.
2022-04-04 is finished.
2022-04-05 is finished.
2022-04-06 is finished.
2022-04-07 is finished.
2022-04-08 is finished.
2022-04-11 is finished.
2022-04-12 is finished.
          ticker trading_day  ...  c2c_vol_252_504_x               uid
0         .KS200  2021-04-30  ...                NaN     20210430KS200
1      000070.KS  2021-04-30  ...                NaN  20210430000070KS
2      000080.KS  2021-04-30  ...                NaN  20210430000080KS
3      000100.KS  2021-04-30  ...                NaN  20210430000100KS
4      000120.KS  2021-04-30  ...                NaN  20210430000120KS
...          ...         ...  ...                ...               ...
45702  352820.KS  2022-04-11  ...                NaN  20220411352820KS
45703  361610.KS  2022-04-11  ...                NaN  20220411361610KS
45704  375500.KS  2022-04-11  ...                NaN  20220411375500KS
45705  377300.KS  2022-04-11  ...                NaN  20220411377300KS
45706  402340.KS  2022-04-11  ...                NaN  20220411402340KS

[45707 rows x 42 columns]
=== Upsert Data to Database on Table bot_data ===
2022-04-12 20:37:43 pc2 alembic.runtime.migration[1812212] INFO Context impl PostgresqlImpl.
2022-04-12 20:37:43 pc2 alembic.runtime.migration[1812212] INFO Will assume transactional DDL.
DATA UPSERT TO bot_data
2022-04-12 : === ['KRW'] DATA PREPERATION DAILY COMPLETED ===
2022-04-12 : === DATA PREPERATION CHECK NEW TICKER STARTED ===
The start date is set as: 2018-04-12
The end date is set as: 2022-04-12
Found 2 New Ticker ('013890.KS', 'EWY')
Traceback (most recent call last):
  File "/home/loratech/DROID_V2.1/manage.py", line 24, in <module>
    main()
  File "/home/loratech/DROID_V2.1/manage.py", line 20, in main
    execute_from_command_line(sys.argv)
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/django/core/management/__init__.py", line 419, in execute_from_command_line
    utility.execute()
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/django/core/management/__init__.py", line 413, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/django/core/management/base.py", line 354, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/django/core/management/base.py", line 398, in execute
    output = self.handle(*args, **options)
  File "/home/loratech/DROID_V2.1/core/djangomodule/management/commands/backtest.py", line 37, in handle
    daily_shcedule_uno_ucdc(currency_code=options["currency_code"], uno=options["uno"], 
  File "/home/loratech/DROID_V2.1/main_executive.py", line 81, in daily_shcedule_uno_ucdc
    data_prep_check_new_ticker(ticker=ticker, currency_code=currency_code)
  File "/home/loratech/DROID_V2.1/main_executive.py", line 222, in data_prep_check_new_ticker
    populate_bot_data(start_date=start_date2, end_date=end_date, ticker=new_ticker, new_ticker=True)
  File "/home/loratech/DROID_V2.1/bot/main_file.py", line 137, in populate_bot_data
    total_returns_21_126 = get_total_return(lookback_creator(main_tri, period, 6 * period + 1))
  File "/home/loratech/DROID_V2.1/bot/vol_calculations.py", line 19, in get_total_return
    total_return = (tris.iloc[-1, :] / tris.iloc[0, :]) - 1
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/pandas/core/indexing.py", line 889, in __getitem__
    return self._getitem_tuple(key)
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/pandas/core/indexing.py", line 1450, in _getitem_tuple
    self._has_valid_tuple(tup)
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/pandas/core/indexing.py", line 723, in _has_valid_tuple
    self._validate_key(k, i)
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/pandas/core/indexing.py", line 1358, in _validate_key
    self._validate_integer(key, axis)
  File "/home/loratech/DROID_V2.1/env/lib/python3.8/site-packages/pandas/core/indexing.py", line 1444, in _validate_integer
    raise IndexError("single positional indexer is out-of-bounds")
IndexError: single positional indexer is out-of-bounds
make: *** [Makefile:25: krw_prep] Error 1
